@model ProDat.Web2.ViewModels.KeyListExclusiveClassViewModel

@{
    if (Model != null)
    {
        var ms = Model.KeyListId;
        var id = -1;
        if (ms != 0)
            id = ms;


        @(Html.DevExtreme().DataGrid<ProDat.Web2.ViewModels.KeyListExclusiveClassViewModel>()
                            .ID("KeyListExclusiveClassX")
                    .DataSource(d => d.Mvc()
                        .Controller("UC5")
                        //.LoadParams(new { parent = Model.parent })
                                        .LoadAction("KeylistxEngClassNoMatches_GetData")
                                                        .Key("KeyListId")
                    )
                    @* .OnContextMenuPreparing("KeyListEngDataGrid_OnContextMenuPreparing")*@
                    .RemoteOperations(false)
                    .Columns(
                        columns =>
                        {
                            //columns.AddFor(m => m.EngDataClassxEngDataCodeId)
                                    columns.AddFor(m => m.ColumnNumber).SortOrder(SortOrder.Asc); ;
                                    columns.AddFor(m => m.Alias).Caption("Alias");
                                    columns.AddFor(m => m.EngDataCodeId).Caption("Id");
                                    columns.AddFor(m => m.EngDataCodeName).Caption("Code Name");
                                    columns.AddFor(m => m.EngDataCodeDesc).Caption("Description");
                                    columns.AddFor(m => m.BccCodeId).Caption("BCC Code");
                                    columns.AddFor(m => m.EngClassName).Caption("Class Name");
                                    //columns.AddFor(m => m.Eng).Caption("Data Code");
                            @*            .Lookup(lookup => lookup
                    .DataSource(d => d.Mvc().Controller("Lookups").LoadAction("MaintStrategy_Lookup").Key("Value"))
                    .ValueExpr("Value")
                    .DisplayExpr("Text")
                );*@
                        })
                    .FilterRow(f => f.Visible(true))
                    .HeaderFilter(f => f.Visible(true))
                    .GroupPanel(p => p.Visible(false))
                    .Scrolling(s => s.Mode(GridScrollingMode.Virtual))
                    .AllowColumnResizing(true)
                    .ColumnAutoWidth(true)
                    //.Selection(x => x.Mode(SelectionMode.Single))
                            .OnSelectionChanged("KeyListExclusiveClass_SelectionChanged")
                    .Height(Model.Height)
                    .Width(Model.Width)
                    .ShowBorders(true)
                    .Editing(e => e.AllowAdding(false).AllowDeleting(false).AllowUpdating(false))

            )
        {
            <input type="hidden" id="parent" value="@id" />
        }
    }
}